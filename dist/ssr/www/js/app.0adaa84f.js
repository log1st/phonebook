(()=>{"use strict";var t={8471:(t,e,n)=>{n.d(e,{Z:()=>d});n(71);var r=n(4258),o=n(7615),a=n(2394),s=n(3793),i=n(3673);const u=(0,i.aZ)({name:"AppWrapper",setup(t){return(0,i.bv)((()=>{const{proxy:{$q:t}}=(0,i.FN)();void 0!==t.onSSRHydrated&&t.onSSRHydrated()})),()=>(0,i.h)(o.Z,t)}});async function d(t,e,o){const i="function"===typeof a["default"]?await(0,a["default"])({ssrContext:o}):a["default"],{storeKey:d}=await Promise.resolve().then(n.bind(n,2394)),c="function"===typeof s.ZP?await(0,s.ZP)({ssrContext:o,store:i}):s.ZP;i.$router=c;const l=t(u);return l.use(r.Z,e,o),{app:l,store:i,storeKey:d,router:c}}},7440:(t,e,n)=>{n(5363),n(71);var r=n(8880),o=n(8471),a=n(7283);const s="/";async function i({app:t,router:e,store:n,storeKey:r},o){window.__INITIAL_STATE__&&n.replaceState(window.__INITIAL_STATE__);let a=!1;const i=t=>{a=!0;const n=Object(t)===t?e.resolve(t).fullPath:t;window.location.href=n},u=window.location.href.replace(window.location.origin,"");for(let c=0;!1===a&&c<o.length;c++)try{await o[c]({app:t,router:e,store:n,ssrContext:null,redirect:i,urlPath:u,publicPath:s})}catch(d){return d&&d.url?void(window.location.href=d.url):void console.error("[Quasar] boot error:",d)}!0!==a&&(t.use(e),t.use(n,r),e.isReady().then((()=>{t.mount("#q-app")})))}(0,o.Z)(r.vr,a.Z).then((t=>Promise.all([Promise.resolve().then(n.bind(n,1665))]).then((e=>{const n=e.map((t=>t.default)).filter((t=>"function"===typeof t));i(t,n)}))))},7283:(t,e,n)=>{n.d(e,{Z:()=>o});var r=n(8325);const o={config:{},plugins:{Dialog:r.Z}}},9984:(t,e,n)=>{n.d(e,{s:()=>o});var r=n(3673);function o(t,e,n,o,a,s){const i=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)(i)}},1851:(t,e,n)=>{n.d(e,{Z:()=>o});var r=n(3673);const o=(0,r.aZ)({name:"App"})},1665:(t,e,n)=>{n.r(e),n.d(e,{default:()=>i,api:()=>s});var r=n(9607),o=n(52),a=n.n(o);const s=a().create({baseURL:"/api",validateStatus:()=>!0}),i=(0,r.xr)((({store:t,app:e})=>{s.interceptors.request.use((e=>(t.getters["auth/isAuthorized"]&&(e.headers.authorization=`bearer ${t.getters["auth/token"]}`),e))),e.config.globalProperties.$axios=a(),e.config.globalProperties.$api=s}))},3793:(t,e,n)=>{n.d(e,{ZP:()=>s,tv:()=>i});var r=n(9607),o=n(9582),a=n(5439);Symbol("router-key");const s=(0,r.BC)((()=>{const t=o.PO,e=(0,o.p7)({scrollBehavior:()=>({left:0,top:0}),routes:a.Z,history:t(void 0)});return e}));function i(){return(0,o.tv)()}},5439:(t,e,n)=>{n.d(e,{Z:()=>o});const r=[{path:"/",component:()=>Promise.all([n.e(736),n.e(754)]).then(n.bind(n,2754)),redirect:{name:"index"},children:[{path:":id?/:personId?",name:"index",component:()=>Promise.all([n.e(736),n.e(392)]).then(n.bind(n,1392)),props:t=>({id:t.params.id?+t.params.id:null,personId:t.params.personId?+t.params.personId:null})}]},{path:"/:catchAll(.*)*",component:()=>Promise.all([n.e(736),n.e(597)]).then(n.bind(n,4597))}],o=r},9729:(t,e,n)=>{n.d(e,{Z:()=>s});var r=n(1665),o=function(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,a){function s(t){try{u(r.next(t))}catch(e){a(e)}}function i(t){try{u(r["throw"](t))}catch(e){a(e)}}function u(t){t.done?n(t.value):o(t.value).then(s,i)}u((r=r.apply(t,e||[])).next())}))};const a={signIn({commit:t},e){return o(this,void 0,void 0,(function*(){t("setIsSigningIn",!0);const n=yield r.api.post("/auth/sign-in",e);return 200===n.status&&(t("setToken",n.data.token),t("setData",n.data.data)),t("setIsSigningIn",!1),{status:200===n.status,response:n.data}}))},signOut({commit:t}){return o(this,void 0,void 0,(function*(){t("setIsSigningOut",!0);const e=yield r.api.post("/auth/sign-out");return 200===e.status&&(t("setToken",null),t("setData",null)),t("setIsSigningOut",!1),{status:200===e.status,response:e.data}}))}},s=a},953:(t,e,n)=>{n.d(e,{Z:()=>o});const r={isAuthorized:t=>!!t.token,data:t=>t.data,token:t=>t.token,isSigningIn:t=>t.isSigningIn,isSigningOut:t=>t.isSigningOut},o=r},9853:(t,e,n)=>{n.d(e,{Z:()=>u});var r=n(2043),o=n(9729),a=n(953),s=n(7163);const i={namespaced:!0,actions:o.Z,getters:a.Z,mutations:s.Z,state:r.Z},u=i},7163:(t,e,n)=>{n.d(e,{Z:()=>o});const r={setToken:(t,e)=>{t.token=e},setData:(t,e)=>{t.data=e},setIsSigningIn:(t,e)=>{t.isSigningIn=e},setIsSigningOut:(t,e)=>{t.isSigningOut=e}},o=r},2043:(t,e,n)=>{function r(){return{token:null,data:null,isSigningIn:!1,isSigningOut:!1}}n.d(e,{Z:()=>o});const o=r},4816:(t,e,n)=>{n.d(e,{Z:()=>i});var r=n(1665),o=function(t,e,n,r){function o(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,a){function s(t){try{u(r.next(t))}catch(e){a(e)}}function i(t){try{u(r["throw"](t))}catch(e){a(e)}}function u(t){t.done?n(t.value):o(t.value).then(s,i)}u((r=r.apply(t,e||[])).next())}))};function a(t){var e;const n={};let r;const o=[];let a;for(a=0;a<t.length;a+=1)n[t[a].id]=a,t[a].children=[];for(a=0;a<t.length;a+=1)r=t[a],null!==r.parentId?(t[n[r.parentId]]||(t[n[r.parentId]].children=[]),null===(e=t[n[r.parentId]].children)||void 0===e||e.push(r)):o.push(r);return o}const s={fetchDepartments(t,e){return o(this,void 0,void 0,(function*(){const t=yield r.api.get("/departments",{params:e});return{status:200===t.status,response:{departments:e.tree?a(t.data.departments.map((t=>Object.assign(Object.assign({},t),{parentId:t.parentId===e.parentId?null:t.parentId})))):t.data.departments}}}))},fetchDepartment(t,e){return o(this,void 0,void 0,(function*(){const t=yield r.api.get(`/departments/${e.id}`);return{status:200===t.status,response:t.data}}))},fetchDepartmentPersons(t,e){return o(this,void 0,void 0,(function*(){const t=yield r.api.get(`/departments/${e.id}/persons`);return{status:200===t.status,response:t.data}}))},fetchDepartmentPerson(t,e){return o(this,void 0,void 0,(function*(){const t=yield r.api.get(`/departments/${e.id}/persons/${e.personId}`);return{status:200===t.status,response:t.data}}))}},i=s},3489:(t,e,n)=>{n.d(e,{Z:()=>o});const r={},o=r},7162:(t,e,n)=>{n.d(e,{Z:()=>u});var r=n(692),o=n(4816),a=n(3489),s=n(5282);const i={namespaced:!0,actions:o.Z,getters:a.Z,mutations:s.Z,state:r.Z},u=i},5282:(t,e,n)=>{n.d(e,{Z:()=>o});const r={},o=r},692:(t,e,n)=>{function r(){return{}}n.d(e,{Z:()=>o});const o=r},2394:(t,e,n)=>{n.r(e),n.d(e,{storeKey:()=>d,default:()=>c,useStore:()=>l});var r=n(9607),o=n(5250),a=n(2363),s=n(5203),i=n(9853),u=n(7162);const d=Symbol("vuex-key"),c=(0,r.h)((({ssrContext:t})=>{const e=t?s.Z.parseSSR(t):s.Z;return(0,o.MT)({state:{isEditing:!1},getters:{isEditing:t=>t.isEditing},mutations:{setIsEditing:(t,e)=>{t.isEditing=e}},modules:{auth:i.Z,departments:u.Z},strict:!1,plugins:[(0,a.Z)({key:"vuex",paths:["auth.token","auth.data","isEditing"],storage:{getItem:t=>JSON.stringify(e.get(t)),setItem:(t,n)=>e.set(t,n,{path:"/"}),removeItem:t=>e.remove(t)}})]})}));function l(){return(0,o.oR)(d)}},7615:(t,e,n)=>{n.d(e,{Z:()=>a});var r=n(9984),o=n(2359);o.Z.render=r.s;const a=o.Z},2359:(t,e,n)=>{n.d(e,{Z:()=>r.Z});var r=n(1851)}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={exports:{}};return t[r](a,a.exports,n),a.exports}n.m=t,(()=>{var t=[];n.O=(e,r,o,a)=>{if(!r){var s=1/0;for(c=0;c<t.length;c++){for(var[r,o,a]=t[c],i=!0,u=0;u<r.length;u++)(!1&a||s>=a)&&Object.keys(n.O).every((t=>n.O[t](r[u])))?r.splice(u--,1):(i=!1,a<s&&(s=a));if(i){t.splice(c--,1);var d=o();void 0!==d&&(e=d)}}return e}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[r,o,a]}})(),(()=>{n.n=t=>{var e=t&&t.__esModule?()=>t["default"]:()=>t;return n.d(e,{a:e}),e}})(),(()=>{n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}})(),(()=>{n.f={},n.e=t=>Promise.all(Object.keys(n.f).reduce(((e,r)=>(n.f[r](t,e),e)),[]))})(),(()=>{n.u=t=>"js/"+t+"."+{392:"542f34b8",597:"731e73c1",754:"44cc3976"}[t]+".js"})(),(()=>{n.miniCssF=t=>"css/"+({143:"app",736:"vendor"}[t]||t)+"."+{143:"31d6cfe0",392:"470e680a",736:"91439a12",754:"1b0cbf2b"}[t]+".css"})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()})(),(()=>{n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e)})(),(()=>{var t={},e="phonebook:";n.l=(r,o,a,s)=>{if(t[r])t[r].push(o);else{var i,u;if(void 0!==a)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var l=d[c];if(l.getAttribute("src")==r||l.getAttribute("data-webpack")==e+a){i=l;break}}i||(u=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",e+a),i.src=r),t[r]=[o];var p=(e,n)=>{i.onerror=i.onload=null,clearTimeout(f);var o=t[r];if(delete t[r],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((t=>t(n))),e)return e(n)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),u&&document.head.appendChild(i)}}})(),(()=>{n.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}})(),(()=>{n.p="/"})(),(()=>{var t=(t,e,n,r)=>{var o=document.createElement("link");o.rel="stylesheet",o.type="text/css";var a=a=>{if(o.onerror=o.onload=null,"load"===a.type)n();else{var s=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.href||e,u=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");u.code="CSS_CHUNK_LOAD_FAILED",u.type=s,u.request=i,o.parentNode.removeChild(o),r(u)}};return o.onerror=o.onload=a,o.href=e,document.head.appendChild(o),o},e=(t,e)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=n[r],a=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(a===t||a===e))return o}var s=document.getElementsByTagName("style");for(r=0;r<s.length;r++){o=s[r],a=o.getAttribute("data-href");if(a===t||a===e)return o}},r=r=>new Promise(((o,a)=>{var s=n.miniCssF(r),i=n.p+s;if(e(s,i))return o();t(r,i,o,a)})),o={143:0};n.f.miniCss=(t,e)=>{var n={392:1,754:1};o[t]?e.push(o[t]):0!==o[t]&&n[t]&&e.push(o[t]=r(t).then((()=>{o[t]=0}),(e=>{throw delete o[t],e})))}})(),(()=>{var t={143:0};n.f.j=(e,r)=>{var o=n.o(t,e)?t[e]:void 0;if(0!==o)if(o)r.push(o[2]);else{var a=new Promise(((n,r)=>o=t[e]=[n,r]));r.push(o[2]=a);var s=n.p+n.u(e),i=new Error,u=r=>{if(n.o(t,e)&&(o=t[e],0!==o&&(t[e]=void 0),o)){var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;i.message="Loading chunk "+e+" failed.\n("+a+": "+s+")",i.name="ChunkLoadError",i.type=a,i.request=s,o[1](i)}};n.l(s,u,"chunk-"+e,e)}},n.O.j=e=>0===t[e];var e=(e,r)=>{var o,a,[s,i,u]=r,d=0;if(s.some((e=>0!==t[e]))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(u)var c=u(n)}for(e&&e(r);d<s.length;d++)a=s[d],n.o(t,a)&&t[a]&&t[a][0](),t[s[d]]=0;return n.O(c)},r=self["webpackChunkphonebook"]=self["webpackChunkphonebook"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})();var r=n.O(void 0,[736],(()=>n(7440)));r=n.O(r)})();